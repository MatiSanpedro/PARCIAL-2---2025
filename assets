


#Ver si un número es válido en una posición
def es_valido(matriz, fila, columna, numero):

    # verificar fila
    for c in range(9):
        if matriz[fila][c] == numero:
            return False

    # verificar columna
    for f in range(9):
        if matriz[f][columna] == numero:
            return False

    # verificar sector 3x3
    inicio_fila = (fila // 3) * 3
    inicio_col = (columna // 3) * 3

    for f in range(inicio_fila, inicio_fila + 3):
        for c in range(inicio_col, inicio_col + 3):
            if matriz[f][c] == numero:
                return False

    return True

#buscar una celda vacia:
def buscar_celda_vacia(matriz):
    for f in range(9):
        for c in range(9):
            if matriz[f][c] == 0:
                return f, c
    return None

import random


#rellenar  
def rellenar_sudoku(matriz):

    celda = buscar_celda_vacia(matriz)
    if celda is None:
        return True  # tablero completo

    fila, columna = celda

    numeros = list(range(1, 10))
    random.shuffle(numeros)

    for numero in numeros:
        if es_valido(matriz, fila, columna, numero):
            matriz[fila][columna] = numero

            if rellenar_sudoku(matriz):
                return True

            # si no funciona, deshacer
            matriz[fila][columna] = 0

    return False


meretriz = [[0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            ]



def poblar_matriz(matriz:list)->list:
    numeros_validos = [1,2,3,4,5,6,7,8,9]
    for fila in range(len(matriz)):
        for columna in range(len(matriz[fila])):
            matriz[fila][columna] = random.choice(numeros_validos)
    
    return matriz 

asda = poblar_matriz(meretriz)
asda1 = limpiar_repetidos_verticales(asda)
asda2 = limpiar_repetidos_horizontales(asda1)
print(asda2,end = "\n")



def eliminar_verticales_columnas_1(matriz)->bool:
    'recibe matriz, itera 3 columnas buscando repetidos, True si no hay repetidos, False si hay. Retorna bool'
    
    ceros_agregados = 0
    for columna in range(0,3):
        vistos = []
        for fila in range(0,9):

            numero = matriz[fila][columna]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[fila][columna] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz


def eliminar_verticales_columnas_2(matriz)->bool:
    'recibe matriz, itera 3 columnas buscando repetidos, True si no hay repetidos, False si hay. Retorna bool'
    ceros_agregados = 0
    
    for columna in range(3,6):
        vistos = []
        for fila in range(0,9):

           numero = matriz[fila][columna]

           if numero == 0:
               continue

           if numero in vistos:
               matriz[fila][columna] = 0
               ceros_agregados += 1
           else:
               vistos.append(numero)

    return matriz


def eliminar_verticales_columnas_3(matriz)->bool:
    'recibe matriz, itera 3 columnas buscando repetidos, True si no hay repetidos, False si hay. Retorna bool'
    ceros_agregados = 0
    
    for columna in range(6,9):
        vistos = []
        for fila in range(0,9):

           numero = matriz[fila][columna]

           if numero == 0:
               continue

           if numero in vistos:
               matriz[fila][columna] = 0
               ceros_agregados += 1
           else:
               vistos.append(numero)

    return matriz
