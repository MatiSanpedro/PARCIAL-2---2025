import pygame as pg 
import random 
import json
import os






def iniciar_matriz(cantidad_filas,cantidad_columnas,valor_inicial)->list:
    'recibe int(cantidad filas) int(cantidad columnas), int(valor inicial), crea una matriz con los parametros dados, y la rellena con el "valor inicial" dado, retorna lista'
    matriz = []
    for i in range(cantidad_filas):
        fila = [valor_inicial] * cantidad_columnas

        matriz += [fila]

    return matriz 



#funcion volver atras
def pausar_juego(evento:pg.event,pantalla_actual:str):
    'recibe evento y surface, lleva al usuario a la pantalla de inicio con "esc", devuelve string'
    if evento.type == pg.KEYDOWN:
        if evento.key == pg.K_ESCAPE:
            pantalla_actual = "inicio"
            print("Juego Pausado.")
    
    return pantalla_actual



#pausa - despausa
def pausar_despausar(evento:pg.event):
    'recibe evento, pausa la musica con tecla p, despausa con tecla o '
    if evento.type == pg.KEYDOWN:
        if evento.key == pg.K_p: # P = pausa 
            pg.mixer.music.pause()
            print("sonido pausado")
        if evento.key == pg.K_o: #O = despausa
            pg.mixer.music.unpause()
            print("Sonido reanudado")


'DIBUJOS EN PANTALLA'


#esto usa de parametros:
#1 Pantalla principal 
#2 tamaño de los cuadrados 
#3 cantidad de columnas
#4 cantidad de filas
#5  X desde donde comienza a dibujarse
#6 Y desde donde comienza a dibujarse

#dibuja los cuadraditos: 
def dibujar_cuadrados(pantalla:pg.Surface, tamaño:int, columna:int, fila:int, x_inicial:int, y_inicial:int)->list:
    'recibe surface,int tamaño, int columna(cantidad),int fila (cantidad), int X inicial, int Y inicial,  retorna lista'     
    lista_retorno_de_cuadrados = []

    for filass in range(fila):
        for columnass in range(columna):
            rectangulo_azul = pg.Rect(x_inicial + columnass * tamaño, y_inicial + filass * tamaño,tamaño,
                tamaño 
                )
            pg.draw.rect(pantalla, (255, 234, 227), rectangulo_azul)      # cuadrados azules
            pg.draw.rect(pantalla, (0, 0, 0), rectangulo_azul, 1)     # bordes negros

            lista_retorno_de_cuadrados.append(rectangulo_azul)
            #retorna los cuadrados para usarlos despues en .collidepoint


    return lista_retorno_de_cuadrados




#lineas separadoras:
def dibujar_lineas(pantalla):
    'dibuja las 4 lineas que separan los sectores de la pantalla, NO RETORNA, solo dibuja'
    #verticales             #color     #inicio     #fin
    pg.draw.line(pantalla, (0, 0, 0), (450, 150), (450,600), 6)
    pg.draw.line(pantalla, (0, 0, 0), (300, 150), (300,600), 6)
    
    #horizontales
    pg.draw.line(pantalla, (0, 0, 0), (150,300), (600,300), 6)
    pg.draw.line(pantalla, (0, 0, 0), (150,450), (600,450), 6)




#dibujar todo
def dibujar_todos_los_cuadrados(pantalla):
    
    celdas_sector_1 = dibujar_cuadrados(pantalla,50,3,3,150,150) #sector 1
    celdas_sector_2 = dibujar_cuadrados(pantalla,50,3,3,300,150) #sector 2
    celdas_sector_3 = dibujar_cuadrados(pantalla,50,3,3,450,150) #sector 3
    celdas_sector_4 = dibujar_cuadrados(pantalla,50,3,3,150,300) #sector 4
    celdas_sector_5 = dibujar_cuadrados(pantalla,50,3,3,300,300) #sector 5
    celdas_sector_6 = dibujar_cuadrados(pantalla,50,3,3,450,300) #sector 6
    celdas_sector_7 = dibujar_cuadrados(pantalla,50,3,3,150,450) #sector 7 
    celdas_sector_8 = dibujar_cuadrados(pantalla,50,3,3,300,450) #sector 8
    celdas_sector_9 = dibujar_cuadrados(pantalla,50,3,3,450,450) #sector 9 


#detecta las colisiones dentro de los cuadrados 
#recibe el evento del mouse, la posicion y una tupla para iterar con enumerate

def detectar_colisiones_simple(posicion,cuadrados):
    # Detectar clic en cuadrado
    for i, rect in enumerate(cuadrados):
        if rect.collidepoint(posicion):
            print(f"Hiciste clic en la celda número {i} en posición {rect.topleft}")
            


def dibujar_numeros(pantalla, matriz: list, tamaño, fuente, posicion_x, posicion_y):
    'recibe surface,matriz,int,font, int e int, dibuja todos los numeros que no sean cero en pantalla, calculando su posicion en base a las coordenadas x,y dadas, retorna una lista'
    lista_de_numeros = []

    for fila in range(len(matriz)):
        for columna in range(len(matriz[0])):

            valor = matriz[fila][columna]
            if valor != 0:  # Solo dibujo si no es cero

                # Calcular posición de la celda actual
                x = posicion_x + columna * tamaño
                y = posicion_y + fila * tamaño

                # Dibujar borde de celda (opcional)
                rect = pg.Rect(x, y, tamaño, tamaño)
                #pg.draw.rect(pantalla, (0, 0, 0), rect, 1)

                # Renderizar el número
                texto = fuente.render(str(valor), True, (158, 108, 100))
                
                # Centrar el número dentro de la celda
                texto_rect = texto.get_rect(center=(x + tamaño // 2, y + tamaño // 2))
                pantalla.blit(texto, texto_rect)

                lista_de_numeros.append(rect)

    return lista_de_numeros


  

#No usado en el juego 
def mouse_de_inicio(boton1:pg.rect,boton2:pg.rect,boton3:pg.rect,boton4:pg.rect,evento:pg.event,posicion:tuple):
    if evento.type == pg.MOUSEBUTTONDOWN:
        if evento.button ==1:
            print("  ")

        if boton1.collidepoint(posicion):                
            pantalla_actual = "nivel"

        elif boton2.collidepoint(posicion):
            pantalla_actual = "jugar"
            
        elif boton3.collidepoint(posicion):
            pantalla_actual = "ver puntaje"

        elif boton4.collidepoint(posicion):
            pg.quit()
            quit()


        return pantalla_actual




'DIBUJOS EN PANTALLA'


#esto usa de parametros:
#1 Pantalla principal 
#2 tamaño de los cuadrados 
#3 cantidad de columnas
#4 cantidad de filas
#5  X desde donde comienza a dibujarse
#6 Y desde donde comienza a dibujarse

#dibuja los cuadraditos: 
def dibujar_cuadrados(pantalla:pg.surface, tamaño:int, columna:int, fila:int, x_inicial:int, y_inicial:int)->dict: 
    'recibe surface, tamaño de los cuadrados, cantidad de filas, cantidad de columnas , posicion X y posicion Y. Dibuja cuadrados multiplicando '   
    lista_retorno_de_cuadrados = []

    for filass in range(fila):
        for columnass in range(columna): 

            #los valores son x inicial (ejem 150) + indice(ejem 0) * tamaño (ejem 50) 
            # cada vez que el indice avanza una posicion, 
            # el inicio donde voy a dibujar el cuadrado siguiente avanza exactamente una anchura de cuadrado 
            #  X = 150 + ((columnass=0) × 50) = 150  Rect = (150, 150, 50, 50),
            # X = 150 + ((columnass=1) x 50) = 200   
            # X =  150 +  ((columnass=2) x50) = 250  
 
            rectangulo_azul = pg.Rect(x_inicial + columnass * tamaño, y_inicial + filass * tamaño,tamaño,
                tamaño 
                )
            pg.draw.rect(pantalla, (255, 234, 227), rectangulo_azul)      # cuadrados azules
            pg.draw.rect(pantalla, (0, 0, 0), rectangulo_azul, 1)     # bordes negros
            
            #esto no tiene blits porque usa pg.draw 

            #retorna los cuadrados para usarlos despues en "detectar celda"
            #y otras funciones que requieran la posicion
            lista_retorno_de_cuadrados.append(({
            "rect": rectangulo_azul,
            "fila": filass,
            "columna": columnass
        }))
    

    
    return lista_retorno_de_cuadrados



#lineas separadoras:
def dibujar_lineas(pantalla:pg.surface):
    'recibe un surface pantalla, dibuja 4 lineas en la pantalla para separar los 9 sectores del juego'
    #verticales             #color     #inicio     #fin
    pg.draw.line(pantalla, (0, 0, 0), (450, 150), (450,600), 6)
    pg.draw.line(pantalla, (0, 0, 0), (300, 150), (300,600), 6)
    
    #horizontales
    pg.draw.line(pantalla, (0, 0, 0), (150,300), (600,300), 6)
    pg.draw.line(pantalla, (0, 0, 0), (150,450), (600,450), 6)

    #esto no tiene blits porque usa pg.draw.line


#dibuja el borde verde de la celda clickeada:
def dibujar_borde_verde(pantalla:pg.Surface,celda_seleccionada:dict):
    'recibe pantalla(surface) y un dict de los datos de la celda seleccionada, dibuja un bordecito verde al clickear la celda'
    if celda_seleccionada is not None: #verifico que celda sea algo, si no es asi, cuando de click fuera de la cuadricula se rompe el juego 
        rect = celda_seleccionada["rect"]
        pg.draw.rect(pantalla,(0,200,0),rect,3)


                  #NO USADO 
#dibujar todo
def dibujar_todos_los_cuadrados(pantalla:pg.surface):
    'recibe surface pantalla, esta funcion repite 9 veces "dibujar_cuadrados"'
    celdas_sector_1 = dibujar_cuadrados(pantalla,50,3,3,150,150) #sector 1
    celdas_sector_2 = dibujar_cuadrados(pantalla,50,3,3,300,150) #sector 2
    celdas_sector_3 = dibujar_cuadrados(pantalla,50,3,3,450,150) #sector 3
    celdas_sector_4 = dibujar_cuadrados(pantalla,50,3,3,150,300) #sector 4
    celdas_sector_5 = dibujar_cuadrados(pantalla,50,3,3,300,300) #sector 5
    celdas_sector_6 = dibujar_cuadrados(pantalla,50,3,3,450,300) #sector 6
    celdas_sector_7 = dibujar_cuadrados(pantalla,50,3,3,150,450) #sector 7 
    celdas_sector_8 = dibujar_cuadrados(pantalla,50,3,3,300,450) #sector 8
    celdas_sector_9 = dibujar_cuadrados(pantalla,50,3,3,450,450) #sector 9 


#detecta las colisiones dentro de los cuadrados 
#recibe el evento del mouse, la posicion y una tupla para iterar con enumerate

def detectar_colisiones_simple(posicion:tuple,cuadrados:list):
    'recibe la posicion y una lista de rect, detecta las colisiones,clicks en los rect'
    # Detectar clic en cuadrado
    for i, rect in enumerate(cuadrados):
        if rect.collidepoint(posicion):
            print(f"Hiciste clic en la celda número {i} en posición {rect.topleft}")
            

#No usado en el juego 
def detectar_todas_las_colisiones(posicion:tuple,celdas_sector_1:list,celdas_sector_2:list,celdas_sector_3:list,celdas_sector_4:list,celdas_sector_5:list,celdas_sector_6:list,celdas_sector_7:list,celdas_sector_8:list,celdas_sector_9:list):
    'recibe la posicion del mouse y 9 listas, detecta las colisiones del click y todos los rect dibujados, no retorna'
    detectar_colisiones_simple(posicion,celdas_sector_1)
    detectar_colisiones_simple(posicion,celdas_sector_2)
    detectar_colisiones_simple(posicion,celdas_sector_3)
    detectar_colisiones_simple(posicion,celdas_sector_4)
    detectar_colisiones_simple(posicion,celdas_sector_5)
    detectar_colisiones_simple(posicion,celdas_sector_6)
    detectar_colisiones_simple(posicion,celdas_sector_7)
    detectar_colisiones_simple(posicion,celdas_sector_8)
    detectar_colisiones_simple(posicion,celdas_sector_9)



#probar esto,      NO USADO EN EL JUEGO 
'modificar esto para que funcione, solo dibuja pero no modifica la matriz '
def ingresar_texto(evento,cuadrados,cuadrado_seleccionado,fuente,pantalla):
    #condicion: si se presiona una tecla y hay una celda seleccionada
    if evento.type == pg.KEYDOWN and cuadrado_seleccionado is not None:
        if evento.key == pg.K_BACKSPACE: #tecla borrar
            numero_ingresado = ""
        elif evento.unicode.isdigit():
            numero_ingresado = evento.unicode
            if numero_ingresado < "1" or numero_ingresado > "9": #valido que sean solo numeros 
                numero_ingresado = ""

        #dibujar el número en pantalla
        if numero_ingresado:
            rect = cuadrados[cuadrado_seleccionado]
            x, y = rect.center
            texto = fuente.render(numero_ingresado, True, (0, 0, 0))
            texto_rect = texto.get_rect(center=(x, y))
            pantalla.blit(texto, texto_rect)



def detectar_celda(pos:tuple, cuadrados:list)->dict:
    'recibe la tupla posicion y una lista con los rect dibujados, retorna indice, datos del rect, fila, columna, y tupla posicion, retorna None, si no detecta nada'
    for i, celda in enumerate(cuadrados):
        rect = celda["rect"]

        if rect.collidepoint(pos):
            print(f"clic en la celda numero {i}, posicion {rect.topleft}")
            return {
                "indice": i,
                "rect": rect,
                "fila": celda["fila"],
                "columna": celda["columna"],
                "pos_mouse": pos
            }

    return None   # no hubo clic en ninguna celda


def input_numero(evento: pg.event, cuadrado_seleccionado: dict) -> int:
    'recibe evento pg, el diccionario con la ubicacion del cuadrado seleccionado, detecta el ingreso SOLAMENTE DE NUMEROS por teclado.'
    if evento.type != pg.KEYDOWN: #solo evento de teclado 
        return None

    if cuadrado_seleccionado["indice"] is None: #retorna none si no se selecciona ninguna celda 
        return None

    # si la tecla no es número devuelve none, sin este punto tira error el juego entero xD
    if evento.unicode.isdigit() == False:
        return None

    numero = int(evento.unicode) 

    # valido rango 1-9
    if numero < 1 or numero > 9:
           numero = 0  #si es cero, la funcion "dibujar numeros" no lo dibuja 

    return numero




def agregar_numero_a_matriz(evento:pg.event,numero_ingresado:int,celda_seleccionada:dict,matriz_grande): 
    'recibe evento.pg, un int, un dict de celda seleccionada y una lista, extrae del diccionario las coordenadas para usar en la matriz, añade el numero a la matriz' 
    fila = celda_seleccionada["fila"]
    columna = celda_seleccionada["columna"]
    rect = celda_seleccionada["rect"]

    if evento == pg.KEYDOWN:
        if evento.unicode.isdigit():
            numero_ingresado = int(evento.unicode)

            matriz_grande[fila][columna] = numero_ingresado
            



def dibujar_numeros(pantalla:pg.surface, matriz: list, tamaño:int, fuente:pg.font, posicion_x:int, posicion_y:int)->list:
    '''recibe surface, lista, int, fuente, int(posicionx) e int(posicion y) esta funcion dibuja numeros,todos excepto el 0, en un surface(pantalla) tomandolos de una matriz. Retorna una lista de rect '''
    lista_de_numeros = []

    for fila in range(len(matriz)):
        for columna in range(len(matriz[0])):

            valor = matriz[fila][columna]
            if valor != 0:  # solo dibujo si no es cero

                # calcular posición de la celda usando x e y de inicio 
                x = posicion_x + columna * tamaño
                y = posicion_y + fila * tamaño

                #dibujar borde de celda 
                rect = pg.Rect(x, y, tamaño, tamaño)
                #pg.draw.rect(pantalla, (0, 0, 0), rect, 1)

                #   Renderiza el numero, castea a str porque sino tira error 
                numero = fuente.render(str(valor), True, (158, 108, 100))
                
                # centrar el numero dentro de la celda  (opcional, estetico)
                texto_rect = numero.get_rect(center=(x + tamaño // 2, y + tamaño // 2))
                pantalla.blit(numero, texto_rect)

                lista_de_numeros.append(rect)

    return lista_de_numeros




def ingresar_numero_a_matriz(matriz_general_fin:list,numero:int,celda_seleccionada:dict,tamaño:int,x_inicial=150, y_inicial=150)->list:
    'recibe la matriz general, el numero ingresado por teclado, un diccionario con datos de la celda clickeada, tamaño(50), x inicial de los rect, y inicial de los rect . retorna una matriz grande'

    #indice = celda_seleccionada["indice"] #indice 
    mouse_x,mouse_y = celda_seleccionada["pos_mouse"] #extraigo la tupla posicion del mouse 
        
    columna = (mouse_x - x_inicial) // tamaño #convierto la x en indices: posicion_mouse_x menos x_inicial(150) dividido tamaño(50) 
    columna = int(columna) #redondeo por si acaso 
        
    fila = (mouse_y - y_inicial) // tamaño #mismo caso
    fila = int(fila)
    
    if columna < 0 or fila < 0: #si alguno es menor a cero es click fuera del area
        return matriz_general_fin  # clic fuera del area, no hacer nada

    # evito exceder los limites, fila o columna mayor o igual al largo de la matriz 
    if fila >= len(matriz_general_fin) or columna >= len(matriz_general_fin[0]):
        return matriz_general_fin  # click fuera, ignorar

    matriz_general_fin[fila][columna] = numero
    
    return matriz_general_fin

    
def borrar_numero_de_matriz(matriz_general_fin:list,evento:pg.event,celda_seleccionada:dict,tamaño:int,x_inicial=150, y_inicial=150)->list:
    'recibe la matriz general,evento, un diccionario con datos de la celda clickeada, tamaño(50),x inicial de los rect, y inicial de los rect. Borra un numero de una casilla seleccionada. Retorna una matriz grande'

    indice = celda_seleccionada["indice"] #indice 
    mouse_x,mouse_y = celda_seleccionada["pos_mouse"]
        
    columna = (mouse_x - x_inicial) // tamaño #convierto la x en indices: posicion_mouse_x menos x_inicial(150) dividido tamaño(50) 
    columna = int(columna) #redondeo por si acaso 
        
    fila = (mouse_y - y_inicial) // tamaño #mismo caso
    fila = int(fila)
    
    
        
    if columna < 0 or fila < 0: #si alguno es menor a cero es click fuera del area
        return matriz_general_fin  # clic fuera del area, no hacer nada

    # evito exceder los limites, fila o columna mayor o igual al largo de la matriz 
    if fila >= len(matriz_general_fin) or columna >= len(matriz_general_fin[0]):
        return matriz_general_fin  # click fuera, ignorar
    
    if evento.type == pg.KEYDOWN:
        if evento.key == pg.K_BACKSPACE:
            matriz_general_fin[fila][columna] = 0
        if evento.key == pg.K_DELETE:
            matriz_general_fin[fila][columna] = 0

    return matriz_general_fin



###################################  FUNCIONES DE VALIDACION Y DIBUJOS DE LAS MISMAS ###########################

#sectores 

def validar_matriz_sector_1(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,3): 
        
        for j in range(0,3):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera

def validar_matriz_sector_2(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,3): 
        
        for j in range(3,6):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_sector_3(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,3): 
        
        for j in range(6,9):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_sector_4(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(3,6): 
        
        for j in range(0,3):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_sector_5(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(3,6): 
        
        for j in range(3,6):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_sector_6(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(3,6): 
        
        for j in range(6,9):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera

def validar_matriz_sector_7(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(6,9): 
        
        for j in range(0,3):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_sector_8(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(6,9): 
        
        for j in range(3,6):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_sector_9(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 3x3 de la matriz(ejemplo sector1 = 0-3,0-3) y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(6,9): 
        
        for j in range(6,9):
            numero_inspeccionado = matriz_general_fin[i][j] 

            if numero_inspeccionado == 0: #verifica ceros en la matriz 
                hay_ceros = True

            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
                repetidos.add(numero_inspeccionado)
            
            if matriz_general_fin[i][j] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)

    if len(repetidos) == 0 and not hay_ceros: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


#DIBUJOS DE VALIDACIONES : SECTORES 3x3 

def dibujar_validacion_sector1(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(150,150,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)

def dibujar_validacion_sector2(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(300,150,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)

def dibujar_validacion_sector3(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(450,150,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)


def dibujar_validacion_sector4(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(150,300,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)

def dibujar_validacion_sector5(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(300,300,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)

def dibujar_validacion_sector6(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(450,300,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)

def dibujar_validacion_sector7(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(150,450,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)

def dibujar_validacion_sector8(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(300,450,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)

def dibujar_validacion_sector9(pantalla:pg.Surface,bandera_sector1:bool):
    'recibe pantalla(surface) y un bool, dibuja un bordecito verde si el bool es verdadero o rojo si es falso '
    rect = pg.Rect(450,450,150,150)
    if bandera_sector1 :
        pg.draw.rect(pantalla,(0,150,0),rect,3)
    else:
        pg.draw.rect(pantalla,(150,0,0),rect,3)



def dibujar_todas_las_validaciones_sectores(pantalla:pg.Surface,bandera_sector1:bool,bandera_sector2:bool,bandera_sector3:bool,
                    bandera_sector4:bool,bandera_sector5:bool,bandera_sector6:bool,bandera_sector7:bool,bandera_sector8:bool,bandera_sector9:bool):
    'recibe pantalla y 9 bool dibuja los 9 cuadrados segun si bandera es falso o verdadero '
    dibujar_validacion_sector1(pantalla,bandera_sector1)
    dibujar_validacion_sector2(pantalla,bandera_sector2)
    dibujar_validacion_sector3(pantalla,bandera_sector3)
    dibujar_validacion_sector4(pantalla,bandera_sector4)
    dibujar_validacion_sector5(pantalla,bandera_sector5)
    dibujar_validacion_sector6(pantalla,bandera_sector6)
    dibujar_validacion_sector7(pantalla,bandera_sector7)
    dibujar_validacion_sector8(pantalla,bandera_sector8)
    dibujar_validacion_sector9(pantalla,bandera_sector9)




#VALIDACIONES : FILAS 
def validar_matriz_fila_1(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[0][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[0][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0 
        bandera = True
    else:
        bandera = False
    
    return bandera

def validar_matriz_fila_2(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[1][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[1][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0 
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_fila_3(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[2][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[2][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0 
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_fila_4(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[3][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[3][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0 
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_fila_5(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[4][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[4][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0 
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_fila_6(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[5][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[5][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0 
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_fila_7(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[6][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[6][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_fila_8(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[7][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[7][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


def validar_matriz_fila_9(matriz_general_fin:list)->bool:
    'recibe matriz general. recorre un segmento 0,9 (fila) de la matriz y verifica si hay numeros repetidos. Retorna bool, False si hay repetidos, True si no los hay'
    bandera = None   #bandera de retorno
    repetidos = set() #set de repetidos
    vistos = set() #set de numeros vistos 
    hay_ceros = False #bandera que comprueba si existen ceros 

    for i in range(0,9): 
        numero_inspeccionado = matriz_general_fin[8][i] 

        if numero_inspeccionado == 0: #verifica ceros en la matriz 
            hay_ceros = True

        if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
            repetidos.add(numero_inspeccionado)
        
        if matriz_general_fin[8][i] != 0: #solo me interesan los numeros que no sean cero 
            vistos.add(numero_inspeccionado)

    if len(repetidos) == 0: # si el largo de repetidos es 0 y a la vez no hay ceros en la matriz(osea espacios en blanco)
        bandera = True
    else:
        bandera = False
    
    return bandera


#todas las filas 
def dibujar_validacion_fila1(pantalla:pg.Surface,bandera_fila1:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,150,450,50)
    if bandera_fila1 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)
    

def dibujar_validacion_fila2(pantalla:pg.Surface,bandera_fila2:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,200,450,50)
    if bandera_fila2 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)
    

def dibujar_validacion_fila3(pantalla:pg.Surface,bandera_fila3:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,250,450,50)
    if bandera_fila3 == False:
        pg.draw.rect(pantalla,(120,0,0),rect,6)
    


def dibujar_validacion_fila4(pantalla:pg.Surface,bandera_fila4:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,300,450,50)
    if bandera_fila4 == False:
        pg.draw.rect(pantalla,(120,0,0),rect,6)
    

def dibujar_validacion_fila5(pantalla:pg.Surface,bandera_fila5:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,350,450,50)
    if bandera_fila5 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_fila6(pantalla:pg.Surface,bandera_fila6:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,400,450,50)
    if bandera_fila6 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_fila7(pantalla:pg.Surface,bandera_fila7:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,450,450,50)
    if bandera_fila7 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_fila8(pantalla:pg.Surface,bandera_fila8:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,500,450,50)
    if bandera_fila8 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_fila9(pantalla:pg.Surface,bandera_fila9:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,550,450,50)
    if bandera_fila9 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)




#TODAS LAS FILAS
def dibujar_todas_las_validaciones_filas(pantalla:pg.Surface,bandera_fila1:bool,bandera_fila2:bool,bandera_fila3:bool,
                    bandera_fila4:bool,bandera_fila5:bool,bandera_fila6:bool,bandera_fila7:bool,bandera_fila8:bool,bandera_fila9:bool):
    'recibe pantalla y 9 bool dibuja los 9 rectangulos si bandera  es falso  '

    dibujar_validacion_fila1(pantalla,bandera_fila1)
    dibujar_validacion_fila2(pantalla,bandera_fila2)
    dibujar_validacion_fila3(pantalla,bandera_fila3)
    dibujar_validacion_fila4(pantalla,bandera_fila4)
    dibujar_validacion_fila5(pantalla,bandera_fila5)
    dibujar_validacion_fila6(pantalla,bandera_fila6)
    dibujar_validacion_fila7(pantalla,bandera_fila7)
    dibujar_validacion_fila8(pantalla,bandera_fila8)
    dibujar_validacion_fila9(pantalla,bandera_fila9)




# verificaciones_banderas  - Columnas: 
 
def verificar_columna_1(matriz)->bool:
    'recibe matriz, itera la primer columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
        
        for j in range(1):
            numero = matriz[fila][j]

            if numero == 0:
                continue

            if numero in vistos:
                bandera = False
            else:
                vistos.append(numero)

    return bandera


def verificar_columna_2(matriz)->bool:
    'recibe matriz, itera la segunda columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
    
        numero = matriz[fila][1]

        if numero == 0:
            continue

        if numero in vistos:
            bandera = False
        else:
            vistos.append(numero)

    return bandera

def verificar_columna_3(matriz)->bool:
    'recibe matriz, itera la tercer columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
    
        numero = matriz[fila][2]

        if numero == 0:
            continue

        if numero in vistos:
            bandera = False
        else:
            vistos.append(numero)

    return bandera

def verificar_columna_4(matriz)->bool:
    'recibe matriz, itera la cuarta columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
    
        numero = matriz[fila][3]

        if numero == 0:
            continue

        if numero in vistos:
            bandera = False
        else:
            vistos.append(numero)

    return bandera

def verificar_columna_5(matriz)->bool:
    'recibe matriz, itera la quinta columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
    
        numero = matriz[fila][4]

        if numero == 0:
            continue

        if numero in vistos:
            bandera = False
        else:
            vistos.append(numero)

    return bandera

def verificar_columna_6(matriz)->bool:
    'recibe matriz, itera la sexta columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
    
        numero = matriz[fila][5]

        if numero == 0:
            continue

        if numero in vistos:
            bandera = False
        else:
            vistos.append(numero)

    return bandera

def verificar_columna_7(matriz)->bool:
    'recibe matriz, itera la septima columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
    
        numero = matriz[fila][6]

        if numero == 0:
            continue

        if numero in vistos:
            bandera = False
        else:
            vistos.append(numero)

    return bandera

def verificar_columna_8(matriz)->bool:
    'recibe matriz, itera la octava columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
    
        numero = matriz[fila][7]

        if numero == 0:
            continue

        if numero in vistos:
            bandera = False
        else:
            vistos.append(numero)

    return bandera

def verificar_columna_9(matriz)->bool:
    'recibe matriz, itera la novena columna buscando numeros repetidos, retorna False si encuentra repetidos, True si no encuentra'
    bandera = True
    vistos = []
    for fila in range(0,9):
    
        numero = matriz[fila][8]

        if numero == 0:
            continue

        if numero in vistos:
            bandera = False
        else:
            vistos.append(numero)

    return bandera



#dibujos - columnas 
def dibujar_validacion_columna1(pantalla:pg.Surface,bandera_columna1:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(150,150,50,450)
    if bandera_columna1 == False :
        pg.draw.rect(pantalla,(130,0,0),rect,6)


def dibujar_validacion_columna2(pantalla:pg.Surface,bandera_columna2:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(200,150,50,450)
    if bandera_columna2 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_columna3(pantalla:pg.Surface,bandera_columna3:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(250,150,50,450)
    if bandera_columna3 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_columna4(pantalla:pg.Surface,bandera_columna4:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(300,150,50,450)
    if bandera_columna4 == False:
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_columna5(pantalla:pg.Surface,bandera_columna5:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(350,150,50,450)
    if bandera_columna5 == False:
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_columna6(pantalla:pg.Surface,bandera_columna6:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(400,150,50,450)
    if bandera_columna6 == False:
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_columna7(pantalla:pg.Surface,bandera_columna7:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(450,150,50,450)
    if bandera_columna7 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)

def dibujar_validacion_columna8(pantalla:pg.Surface,bandera_columna8:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(500,150,50,450)
    if bandera_columna8 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_validacion_columna9(pantalla:pg.Surface,bandera_columna9:bool):
    'recibe pantalla(surface) y un bool, dibuja un rectangulo rojo si es falso '
    rect = pg.Rect(550,150,50,450)
    if bandera_columna9 == False :
        pg.draw.rect(pantalla,(120,0,0),rect,6)


def dibujar_todas_las_validaciones_columnas(pantalla:pg.Surface,bandera_columna1:bool,bandera_columna2:bool,bandera_columna3:bool,
                    bandera_columna4:bool,bandera_columna5:bool,bandera_columna6:bool,bandera_columna7:bool,bandera_columna8:bool,bandera_columna9:bool):
    'recibe pantalla y 9 bool dibuja los 9 rectangulos verticales rojos si bandera es falso '

    dibujar_validacion_columna1(pantalla,bandera_columna1)
    dibujar_validacion_columna2(pantalla,bandera_columna2)
    dibujar_validacion_columna3(pantalla,bandera_columna3)
    dibujar_validacion_columna4(pantalla,bandera_columna4)
    dibujar_validacion_columna5(pantalla,bandera_columna5)
    dibujar_validacion_columna6(pantalla,bandera_columna6)
    dibujar_validacion_columna7(pantalla,bandera_columna7)
    dibujar_validacion_columna8(pantalla,bandera_columna8)
    dibujar_validacion_columna9(pantalla,bandera_columna9)




#esta es la que sirve de verdad, agrega filas enteras con numeros revueltos 
#importante, No repite numeros en filas
def generar_matriz_completa_C(matriz):
    'recibe matriz, agrega una fila completa de numeros del 1 al 9 mezclados, retorna matriz '
    for fila in range(len(matriz)):
        validos = [1,2,3,4,5,6,7,8,9]
        random.shuffle(validos) #mezcla la lista 

        matriz[fila] = validos[:] # reemplaza la fila completa

    return matriz



#funciona excelente, agrega cero donde hay un repetido
def eliminar_repeticiones_sector1(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(0, 3):
        for j in range(0, 3):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz


def eliminar_repeticiones_sector2(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(0, 3):
        for j in range(3, 6):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz


def eliminar_repeticiones_sector3(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(0, 3):
        for j in range(6, 9):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz

def eliminar_repeticiones_sector4(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(3, 6):
        for j in range(0, 3):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz

def eliminar_repeticiones_sector5(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(3, 6):
        for j in range(3, 6):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz

def eliminar_repeticiones_sector6(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(3, 6):
        for j in range(6, 9):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz


def eliminar_repeticiones_sector7(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(6, 9):
        for j in range(0, 3):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz


def eliminar_repeticiones_sector8(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(6, 9):
        for j in range(3, 6):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz


def eliminar_repeticiones_sector9(matriz: list) -> int:
    'recibe matriz, busca numeros repetidos y los reemplaza por un cero, retorna matriz '
    vistos = []
    ceros_agregados = 0

    for i in range(6, 9):
        for j in range(6, 9):

            numero = matriz[i][j]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[i][j] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz





def agregar_mas_ceros_sector_1(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(0,3):
        for j in range(0,3):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz



def agregar_mas_ceros_sector_2(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(0,3):
        for j in range(3,6):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz



def agregar_mas_ceros_sector_3(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(0,3):
        for j in range(6,9):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz



def agregar_mas_ceros_sector_4(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(3,6):
        for j in range(0,3):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz



def agregar_mas_ceros_sector_5(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(3,6):
        for j in range(3,6):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz


def agregar_mas_ceros_sector_6(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(3,6):
        for j in range(6,9):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz



def agregar_mas_ceros_sector_7(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(6,9):
        for j in range(0,3):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz


def agregar_mas_ceros_sector_8(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(6,9):
        for j in range(3,6):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz


def agregar_mas_ceros_sector_9(matriz: list, cantidad_ceros: int) -> list:
    'recibe matriz e int, recorre un sector de la matriz y agrega ceros, como maximo el numero que se le pase por parametro, retorna matriz'
    contador_ceros = 0
    posiciones = []

    # contar ceros actuales + guardar posiciones no cero
    for i in range(6,9):
        for j in range(6,9):
            if matriz[i][j] == 0:
                contador_ceros += 1
            else:
                posiciones.append((i, j))

    random.shuffle(posiciones)

    for (i, j) in posiciones:
        if contador_ceros == cantidad_ceros:
            break

        matriz[i][j] = 0
        contador_ceros += 1

    return matriz



def agregar_ceros_final(matriz:list,cantidad:int)->list:
    'recibe matriz e int(cantidad), limpia repetidos y agrega ceros a los sectores de la matriz 9x9, retorna matriz'
    #columnas
    matriz = eliminar_verticales_columnas_1(matriz)
    matriz = eliminar_verticales_columnas_2(matriz)
    matriz = eliminar_verticales_columnas_3(matriz)

    #sectores
    matriz = eliminar_repeticiones_sector1(matriz)
    matriz = agregar_mas_ceros_sector_1(matriz,cantidad)
    matriz = eliminar_repeticiones_sector2(matriz)
    matriz = agregar_mas_ceros_sector_2(matriz,cantidad)
    matriz = eliminar_repeticiones_sector3(matriz)
    matriz = agregar_mas_ceros_sector_3(matriz,cantidad)
    matriz = eliminar_repeticiones_sector4(matriz)
    matriz = agregar_mas_ceros_sector_4(matriz,cantidad)
    matriz = eliminar_repeticiones_sector5(matriz)
    matriz = agregar_mas_ceros_sector_5(matriz,cantidad)
    matriz = eliminar_repeticiones_sector6(matriz)
    matriz = agregar_mas_ceros_sector_6(matriz,cantidad)
    matriz = eliminar_repeticiones_sector7(matriz)
    matriz = agregar_mas_ceros_sector_7(matriz,cantidad)
    matriz = eliminar_repeticiones_sector8(matriz)
    matriz = agregar_mas_ceros_sector_8(matriz,cantidad)
    matriz = eliminar_repeticiones_sector9(matriz)
    matriz = agregar_mas_ceros_sector_9(matriz,cantidad)


    return matriz 





#guardar json
def guardar_nombre_puntaje_json(nombre):
    'recibe str, crea un json y guarda el nombre del jugador ingresado dentro del juego por evento.unicode'
    archivo = "nombres_puntaje.json"

    if os.path.exists(archivo): #revisa que exista el archivo, para evitar error
        with open(archivo, "r", encoding="utf-8") as coso: #encoding = "utf-8 es para que reconozca acentos, ñ y esas cositas "
            datos = json.load(coso)
    else:
        datos = []   #si no existe, crea el archivo 

    jugador = {
        "nombre": nombre,
        "puntaje": 0
    }

    datos.append(jugador)

    with open(archivo, "w", encoding="utf-8") as coso:
        json.dump(datos, coso, indent=4, ensure_ascii=False) # ensure_ascii=False para las ñ y acentos igual que encoding


#actualizar json
def actualizar_puntaje_json(nombre:str, nuevo_puntaje:int):
    archivo = "nombres_puntaje.json"

    with open(archivo, "r", encoding="utf-8") as f:
        datos = json.load(f)

    for jugador in datos:
        if jugador.get("nombre") == nombre:
            jugador["puntaje"] = nuevo_puntaje
            break

    with open(archivo, "w", encoding="utf-8") as f:
        json.dump(datos, f, indent=4, ensure_ascii=False) # ensure_ascii=False para las ñ y acentos igual que encoding



#abrir json
def leer_json(nombre_del_archivo)->dict:
    'recibe un archivo .json, extrae los datos del archivo y los guarda en una variable, retorna una variable con los datos. '
    with open(nombre_del_archivo,'r') as archivo_json:
        datos = json.load(archivo_json) #carga el contenido en un diccionario
        
    
    return datos    
        
    



def validar_final(lista:list):
    'recibe lista, revisa si todas las banderas son validas o no. Si son validas retorna True, caso contrario, retorna False'    
    if all(lista) == True:
        return True
    else:
        return False
        


#fuente.render no permite int, y no permite castearlo a str si es un numero con ceros adelante. Tuve que hacer esto
def formatear_puntaje(puntaje:int) -> str:
    'recibe int, convierte a string, retorna string'
    return f"{puntaje:04d}" #llenar con 4 ceros 



def final_de_partida(pantalla):
    pass




def ordenar_puntaje(nombre_y_puntaje:dict)->dict:
    'recibe un dict, extrae del dict un nombre y un numero, lo convierte en tuplas, luego las ordena de mayor a menor, desempaqueta con un for, y los guarda en una lista, devuelve lista'
    lista_tuplas = []
    primeros_5 = []

    for jugador in nombre_y_puntaje:
        lista_tuplas.append((jugador["puntaje"],jugador["nombre"]))
        lista_tuplas.sort(reverse=True)
    
    for puntaje,nombre in lista_tuplas[:5]: # desde inicio hasta 5 
        primeros_5.append({'nombre': nombre, 'puntaje':puntaje})


    return primeros_5



def eliminar_verticales_columnas_1(matriz)->list:
    'recibe matriz, itera 3 columnas buscando repetidos, True si no hay repetidos, False si hay. Retorna bool'
    
    ceros_agregados = 0
    for columna in range(0,3):
        vistos = []
        for fila in range(0,9):

            numero = matriz[fila][columna]

            if numero == 0:
                continue

            if numero in vistos:
                matriz[fila][columna] = 0
                ceros_agregados += 1
            else:
                vistos.append(numero)

    return matriz


def eliminar_verticales_columnas_2(matriz)->list:
    'recibe matriz, itera 3 columnas buscando repetidos, True si no hay repetidos, False si hay. Retorna bool'
    ceros_agregados = 0
    
    for columna in range(3,6):
        vistos = []
        for fila in range(0,9):

           numero = matriz[fila][columna]

           if numero == 0:
               continue

           if numero in vistos:
               matriz[fila][columna] = 0
               ceros_agregados += 1
           else:
               vistos.append(numero)

    return matriz


def eliminar_verticales_columnas_3(matriz)->list:
    'recibe matriz, itera 3 columnas buscando repetidos, True si no hay repetidos, False si hay. Retorna bool'
    ceros_agregados = 0
    
    for columna in range(6,9):
        vistos = []
        for fila in range(0,9):

           numero = matriz[fila][columna]

           if numero == 0:
               continue

           if numero in vistos:
               matriz[fila][columna] = 0
               ceros_agregados += 1
           else:
               vistos.append(numero)

    return matriz


#USAR ESTA PARA VERIFICAR TODAS LAS FILAS 
def verificar_todas_las_filas(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos, devuelve True si No hay repetidos, false si los hay, devuelve bool '
    bandera = False
    hay_repetidos = False
    
    for fila in range(0,9):
        vistos = set()
        repetidos = set()
        for columna in range(0,9):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.add(numero_inspeccionado)
               hay_repetidos = True
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)
                
    if len(repetidos) == 0 and not hay_repetidos:
        bandera = True
    else: bandera = False 
    print("repetidos en filas 6-9 encontrados")

    return bandera
                
def encontrar_cantidad_de_repetidos_sector1(matriz)->bool:
    'recibe lista, recorre un sector 3x3 buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(0,3):
        
        
        for columna in range(0,3):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno


def encontrar_cantidad_de_repetidos_sector2(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(0,3):
        
        
        for columna in range(3,6):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno


def encontrar_cantidad_de_repetidos_sector3(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(0,3):
        
        
        for columna in range(6,9):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno

def encontrar_cantidad_de_repetidos_sector4(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(3,6):
        
        for columna in range(0,3):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno


def encontrar_cantidad_de_repetidos_sector5(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(3,6):
        
        for columna in range(3,6):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno

def encontrar_cantidad_de_repetidos_sector6(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(3,6):
        
        for columna in range(6,9):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno


def encontrar_cantidad_de_repetidos_sector7(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(6,9):
        
        for columna in range(0,3):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno



def encontrar_cantidad_de_repetidos_sector8(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(6,9):
        
        for columna in range(3,6):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno


def encontrar_cantidad_de_repetidos_sector9(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    vistos = []
    for fila in range(6,9):
        
        for columna in range(6,9):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.append(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno



# VERIFICAR y RESTAR LOS PUNTOS DE LOS NUMEROS REPETIDOS EN FILAS  
def encontrar_cantidad_de_repetidos_por_filas(matriz)->bool:
    'recibe lista, recorre todas las filas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    
    for fila in range(0,9):
        vistos = set()
        
        for columna in range(0,9):

            numero_inspeccionado = (matriz[fila][columna])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[fila][columna] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno
                


# VERIFICAR y RESTAR LOS PUNTOS DE LOS NUMEROS REPETIDOS EN COLUMNAS 
def encontrar_cantidad_de_repetidos_por_columnas(matriz)->int:
    'recibe lista, recorre todas las columnas buscando repetidos,acumula la cantidad de repetidos en una lista, devuelve (int) la cantidad de numeros repetidos '
    
    repetidos = []
    
    for fila in range(0,9):
        vistos = set()
        
        for columna in range(0,9):

            numero_inspeccionado = (matriz[columna][fila])
            
            if numero_inspeccionado in vistos: #  si esta en vistos, esta repetido 
               repetidos.append(numero_inspeccionado)
               
            if matriz[columna][fila] != 0: #solo me interesan los numeros que no sean cero 
                vistos.add(numero_inspeccionado)
                
    retorno = len(repetidos)

    return retorno
                

#control de puntaje
def sumar_restar_puntaje(matriz:list,flags:list, puntaje:int) -> int:
    "recibe lista de bandderas, recorre la lista y verifica: True  suma 9 puntos | False  resta 1 punto, retorna int"
    repetidos_columnas = encontrar_cantidad_de_repetidos_por_columnas(matriz)
    repetidos_filas = encontrar_cantidad_de_repetidos_por_filas(matriz)
    repetidos_sec1 = encontrar_cantidad_de_repetidos_sector1(matriz)
    repetidos_sec2 = encontrar_cantidad_de_repetidos_sector2(matriz)
    repetidos_sec3 = encontrar_cantidad_de_repetidos_sector3(matriz)
    repetidos_sec4 = encontrar_cantidad_de_repetidos_sector4(matriz)
    repetidos_sec5 = encontrar_cantidad_de_repetidos_sector5(matriz)
    repetidos_sec6 = encontrar_cantidad_de_repetidos_sector6(matriz)
    repetidos_sec7 = encontrar_cantidad_de_repetidos_sector7(matriz)
    repetidos_sec8 = encontrar_cantidad_de_repetidos_sector8(matriz)
    repetidos_sec9 = encontrar_cantidad_de_repetidos_sector9(matriz)

    puntaje -= repetidos_filas
    puntaje -= repetidos_columnas
    puntaje -= repetidos_sec1
    puntaje -= repetidos_sec2
    puntaje -= repetidos_sec3
    puntaje -= repetidos_sec4
    puntaje -= repetidos_sec5
    puntaje -= repetidos_sec6
    puntaje -= repetidos_sec7
    puntaje -= repetidos_sec8
    puntaje -= repetidos_sec9


    if all(flags) == True:
        puntaje += 81
        

    return puntaje




#NO USADO, BORRAR
def sumar_9_zona_1_v2(puntaje:int,matriz:list)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    bandera_sector1 = validar_matriz_sector_1(matriz)
    bandera_fila1 = validar_matriz_fila_1(matriz)
    bandera_fila2  = validar_matriz_fila_2(matriz)
    bandera_fila3 = validar_matriz_fila_3(matriz)

    bandera_columna1 = verificar_columna_1(matriz)
    bandera_columna2 = verificar_columna_2(matriz)
    bandera_columna3 = verificar_columna_3(matriz)

    banderas = [bandera_sector1,bandera_fila1,bandera_fila2,bandera_fila3,bandera_columna1,bandera_columna2,bandera_columna3]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 


def sumar_9_zona_1(puntaje:int,bandera_sector1:bool,bandera_fila1:bool,bandera_fila2:bool,bandera_fila3:bool,bandera_columna1:bool,bandera_columna2:bool,bandera_columna3:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector1,bandera_fila1,bandera_fila2,bandera_fila3,bandera_columna1,bandera_columna2,bandera_columna3]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 


def sumar_9_zona_2(puntaje:int,bandera_sector2:bool,bandera_fila1:bool,bandera_fila2:bool,bandera_fila3:bool,bandera_columna4:bool,bandera_columna5:bool,bandera_columna6:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector2,bandera_fila1,bandera_fila2,bandera_fila3,bandera_columna4,bandera_columna5,bandera_columna6]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 


def sumar_9_zona_3(puntaje:int,bandera_sector3:bool,bandera_fila1:bool,bandera_fila2:bool,bandera_fila3:bool,bandera_columna7:bool,bandera_columna8:bool,bandera_columna9:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector3,bandera_fila1,bandera_fila2,bandera_fila3,bandera_columna7,bandera_columna8,bandera_columna9]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 

def sumar_9_zona_4(puntaje:int,bandera_sector4:bool,bandera_fila4:bool,bandera_fila5:bool,bandera_fila6:bool,bandera_columna1:bool,bandera_columna2:bool,bandera_columna3:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector4,bandera_fila4,bandera_fila4,bandera_fila6,bandera_columna1,bandera_columna2,bandera_columna3]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 


def sumar_9_zona_5(puntaje:int,bandera_sector5:bool,bandera_fila4:bool,bandera_fila5:bool,bandera_fila6:bool,bandera_columna4:bool,bandera_columna5:bool,bandera_columna6:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector5,bandera_fila4,bandera_fila4,bandera_fila6,bandera_columna4,bandera_columna5,bandera_columna6]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 


def sumar_9_zona_6(puntaje:int,bandera_sector6:bool,bandera_fila4:bool,bandera_fila5:bool,bandera_fila6:bool,bandera_columna7:bool,bandera_columna8:bool,bandera_columna9:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector6,bandera_fila4,bandera_fila5,bandera_fila6,bandera_columna7,bandera_columna8,bandera_columna9]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 


def sumar_9_zona_7(puntaje:int,bandera_sector7:bool,bandera_fila7:bool,bandera_fila8:bool,bandera_fila9:bool,bandera_columna1:bool,bandera_columna2:bool,bandera_columna3:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector7,bandera_fila7,bandera_fila8,bandera_fila9,bandera_columna1,bandera_columna2,bandera_columna3]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 

def sumar_9_zona_8(puntaje:int,bandera_sector8:bool,bandera_fila7:bool,bandera_fila8:bool,bandera_fila9:bool,bandera_columna4:bool,bandera_columna5:bool,bandera_columna6:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector8,bandera_fila7,bandera_fila8,bandera_fila9,bandera_columna4,bandera_columna5,bandera_columna6]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 




def sumar_9_zona_9(puntaje:int,bandera_sector9:bool,bandera_fila7:bool,bandera_fila8:bool,bandera_fila9:bool,bandera_columna7:bool,bandera_columna8:bool,bandera_columna9:bool)->int:
    'recibe int(puntaje) y 7 bool: sector1, filas 123 y columnas 123, verifica si todas son verdaderas para sumar +9 al puntaje. Retorna Int'
    
    banderas = [bandera_sector9,bandera_fila7,bandera_fila8,bandera_fila9,bandera_columna7,bandera_columna8,bandera_columna9]
    

    if all(banderas) == True:
        puntaje +=9
    else:
        puntaje = puntaje


    return puntaje 


def invalidar_posiciones_iniciales(matriz)->list:
    
    lista_de_posiciones = []
    for i in range(len(matriz)):
        for j in range(len(matriz[i])):
            if matriz[i][j] != 0:
                posicion = (i,j)
                lista_de_posiciones.append(posicion)
            
    
    return lista_de_posiciones


    
